(this["webpackJsonpaudio-mp3-player"]=this["webpackJsonpaudio-mp3-player"]||[]).push([[4],{97:function(t,e,c){"use strict";c.r(e);var a=c(19),n=c(0),i=c(32),r=c(31),s=c(96),u=c(13),o=(c(95),c(4));function l(t){var e=t.data,c=t.handleTrack,a=t.stopTrack,i=t.pauseTrack,r=t.changeVolume,l=t.next,d=t.setNext,f=Object(n.useRef)(),j=function(t){e.tracklist.forEach((function(t){var e=f.current.id;!1===t.pause&&+t.id===+e.slice(0,-4)&&i(t.id)}))},h=function(t){e&&e.tracklist.forEach((function(e){if(t){var c=f.current.id;+e.id===+c.slice(0,-4)&&!0===e.pause&&!0===e.plays&&i(e.id)}}))},p=function(t){var e=f.current.id.slice(0,-4);a(e),k()};Object(n.useEffect)((function(){e&&e.tracklist.map((function(t,e){if(!0===t.plays&&!1===t.pause){var c=f.current;c&&c.childNodes.forEach((function(t){t.classList.contains("rhap_container")&&t.childNodes.forEach((function(t){"AUDIO"===t.tagName&&t.play()}))}))}else if(!0===t.pause&&!0===t.plays){var a=f.current;a&&a.childNodes.forEach((function(t){t.classList.contains("rhap_container")&&t.childNodes.forEach((function(t){"AUDIO"===t.tagName&&t.pause()}))}))}}))}));var k=function(t){if(l<e.tracklist.length-1){d(l+1);var n=e.tracklist[l].id,i=e.tracklist[l+1].id;c(i),a(n),setTimeout((function(){document.getElementsByTagName("audio")[0].play()}),30)}else{d(0);var r=e.tracklist[l].id,s=e.tracklist[0].id;c(s),a(r),setTimeout((function(){document.getElementsByTagName("audio")[0].play()}),30)}},b=function(t){if(l>0){d(l-1);var n=e.tracklist[l].id,i=e.tracklist[l-1].id;c(i),a(n),setTimeout((function(){document.getElementsByTagName("audio")[0].play()}),30)}else{d(e.tracklist.length-1);var r=e.tracklist[l].id,s=e.tracklist[e.tracklist.length-1].id;c(s),a(r),setTimeout((function(){document.getElementsByTagName("audio")[0].play()}),30)}},m=function(t){var e=t.target.volume;r(e)},O=e.tracklist.map((function(t,c){return!0===t.plays?Object(o.jsxs)(u.g,{id:t.id+"-top",ref:f,children:[Object(o.jsx)(u.k,{children:Object(o.jsx)(u.j,{src:t.image.background})}),Object(o.jsxs)(u.b,{children:[Object(o.jsx)("div",{children:t.title}),Object(o.jsx)("div",{children:t.subtitle})]}),Object(o.jsx)(s.a,{src:t.src,index:c,volume:e.ui[0].volume,showSkipControls:!0,showFilledVolume:!0,onPlay:h,onPause:j,onEnded:p,onClickNext:k,onClickPrevious:b,onVolumeChange:m,style:{flexBasis:"50%"}})]},c):""}));return Object(o.jsx)(u.f,{children:O})}var d=Object(n.memo)(l);function f(t){var e=t.data,c=t.handleTrack,a=t.stopTrack,n=t.pauseTrack,i=(t.next,t.setNext),r=function(t){"A"!==t.target.tagName&&e.tracklist.forEach((function(r,s){+r.id===+t.currentTarget.id&&!1===r.plays&&!0===r.pause?(!function(t){e.tracklist.forEach((function(e){+e.id===+t.currentTarget.id&&!1===e.plays?c(t.currentTarget.id):+e.id!==+t.currentTarget.id&&!0===e.plays&&a(e.id)}))}(t),n(t.currentTarget.id),i(s)):+r.id===+t.currentTarget.id&&!1===r.pause?n(t.currentTarget.id):+r.id===+t.currentTarget.id&&!0===r.pause&&!0===r.plays&&n(r.id)}))},s=e.tracklist.map((function(t,e){return Object(o.jsxs)(u.n,{id:t.id,onClickCapture:r,children:[Object(o.jsxs)(u.k,{children:[Object(o.jsx)(u.j,{src:t.image.background,alt:t.title}),!0===t.plays?Object(o.jsx)(u.h,{children:Object(o.jsx)(u.i,{style:!0===t.plays&&!1===t.pause?{animation:"plug .8s infinite ease-in-out alternate"}:{animation:"none"}})}):""]}),Object(o.jsxs)(u.b,{children:[Object(o.jsx)(u.m,{children:t.title}),Object(o.jsx)(u.l,{children:t.subtitle})]}),Object(o.jsx)("a",{id:"download",download:!0,href:t.src,children:"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c"})]},e)}));return Object(o.jsx)(u.a,{children:Object(o.jsx)(u.e,{children:s})})}var j=Object(n.memo)(f);c(21);e.default=Object(i.b)((function(t){return{state:t}}),(function(t){return{addTrack:function(e,c,a,n,i,s,u,o){t(Object(r.a)(e,c,a,n,i,s,u,o))},deleteTrack:function(e){t(Object(r.c)(e))},handleTrack:function(e){t(Object(r.d)(e))},stopTrack:function(e){t(Object(r.f)(e))},pauseTrack:function(e){t(Object(r.e)(e))},changeVolume:function(e){t(Object(r.b)(e))}}}))((function(t){var e=Object(n.useState)(0),c=Object(a.a)(e,2),i=c[0],r=c[1],s=function(){return t.state},l=function(e){t.handleTrack(e)},f=function(e){t.stopTrack(e)},h=function(e){t.pauseTrack(e)};return Object(o.jsxs)("div",{children:[Object(o.jsx)(u.a,{children:Object(o.jsx)("h1",{children:"PlayList"})}),Object(o.jsx)(d,{data:s(),handleTrack:l,stopTrack:f,pauseTrack:h,changeVolume:function(e){t.changeVolume(e)},next:i,setNext:r}),Object(o.jsx)(j,{data:s(),handleTrack:l,stopTrack:f,pauseTrack:h,next:i,setNext:r})]})}))}}]);
//# sourceMappingURL=4.facdb8a5.chunk.js.map