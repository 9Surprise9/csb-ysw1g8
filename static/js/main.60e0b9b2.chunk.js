(this["webpackJsonpaudio-mp3-player"]=this["webpackJsonpaudio-mp3-player"]||[]).push([[0],{66:function(t,e,a){},93:function(t,e,a){"use strict";a.r(e);var n=a(37),c=a(20),i=a(21),r=a(12),o={trackList:[],ui:[{volume:1}]};var s=Object(i.a)({tracklist:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.trackList,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"ADD_TRACK":return[].concat(Object(r.a)(t),[{id:e.payload.id,src:e.payload.src,image:{background:e.payload.image.background,coverart:e.payload.image.coverart,coverarthq:e.payload.image.coverarthq},title:e.payload.title,subtitle:e.payload.subtitle,url:e.payload.url,plays:!1,pause:!0,isNext:!1}]);case"DELETE_TRACK":var a=e.payload.id;return Object(r.a)(t.filter((function(t){return+t.id!==+a})));case"HANDLE_TRACK":var n=e.payload.id;return Object(r.a)(t.map((function(t){return+t.id===+n?(t.plays=!t.plays,t.isNext=!1,t):(t.isNext=!0,t)})));case"STOP_TRACK":var c=e.payload.id;return Object(r.a)(t.map((function(t){return+t.id===+c?(t.plays=!1,t.pause=!0,t):t})));case"PAUSE_TRACK":var i=e.payload.id;return Object(r.a)(t.map((function(t){return+t.id===+i?(t.pause=!t.pause,t):t})));default:return t}},ui:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.ui,e=arguments.length>1?arguments[1]:void 0;if("CHANGE_VOLUME"===e.type){var a=e.payload.volume;return Object(r.a)(t.map((function(t){return t.volume=a,t})))}return t}}),u=s;a(66);var l,d,p,b,j,f,h,m,O,g,k,y,v,x,T=a(16),E=a(0),A=function(t,e,a,n,c,i,r,o){return{type:"ADD_TRACK",payload:{id:t,src:e,image:{background:a,coverart:n,coverarthq:c},title:i,subtitle:r,url:o}}},N=a(55),C=a(6),w=a(7),R=Object(w.a)("div")(l||(l=Object(C.a)(["\n  max-width: 1200px;\n  margin: 0 auto;\n"]))),_=Object(w.a)("div")(d||(d=Object(C.a)(["\n  display: flex;\n"]))),K=Object(w.a)(_)(p||(p=Object(C.a)(["\n  flex-direction: column;\n"]))),L=Object(w.a)(_)(b||(b=Object(C.a)(["\n  flex-direction: row;\n"]))),D=Object(w.a)(K)(j||(j=Object(C.a)([""]))),P=Object(w.a)(L)(f||(f=Object(C.a)(["\n  align-items: center;\n  margin-bottom: 20px;\n  justify-content: space-between;\n  position: relative;\n  cursor: pointer;\n  :last-child {\n    margin-bottom: 0;\n  }\n"]))),V=Object(w.a)("div")(h||(h=Object(C.a)(["\n  font-size: 25px;\n  color: #000;\n  font-weight: bold;\n"]))),S=Object(w.a)(V)(m||(m=Object(C.a)(["\n  font-size: 20px;\n  font-weight: normal;\n"]))),U=Object(w.a)("div")(O||(O=Object(C.a)(["\n  width: 100px;\n  height: 100px;\n  position: relative;\n"]))),B=Object(w.a)("img")(g||(g=Object(C.a)(["\n  width: 100%;\n  height: 100%;\n"]))),q=Object(w.a)(R)(k||(k=Object(C.a)(["\n  position: fixed;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  z-index: 1000;\n"]))),z=Object(w.a)(L)(y||(y=Object(C.a)(["\n  align-items: center;\n  justify-content: space-between;\n  background-color: aliceblue;\n  padding: 10px 25px;\n"]))),H=Object(w.a)("div")(v||(v=Object(C.a)(["\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(0, 0, 0, 0.2);\n  top: 0;\n"]))),I=Object(w.a)("div")(x||(x=Object(C.a)(["\n  width: 30px;\n  height: 30px;\n  border: 1px solid #e7de09;\n  border-radius: 50%;\n  position: absolute;\n  top: 35%;\n  left: 35%;\n  background-color: #e7de09;\n"]))),G=(a(69),a(3));function J(t){var e=t.data,a=t.handleTrack,n=t.stopTrack,c=t.pauseTrack,i=t.changeVolume,r=t.next,o=t.setNext,s=Object(E.useRef)(),u=function(t){e.tracklist.forEach((function(t){var e=s.current.id;!1===t.pause&&+t.id===+e.slice(0,-4)&&c(t.id)}))},l=function(t){e&&e.tracklist.forEach((function(e){if(t){var a=s.current.id;+e.id===+a.slice(0,-4)&&!0===e.pause&&!0===e.plays&&c(e.id)}}))},d=function(t){var e=s.current.id.slice(0,-4);n(e),p()};Object(E.useEffect)((function(){e&&e.tracklist.map((function(t,e){if(!0===t.plays&&!1===t.pause){var a=s.current;a&&a.childNodes.forEach((function(t){t.classList.contains("rhap_container")&&t.childNodes.forEach((function(t){"AUDIO"===t.tagName&&t.play()}))}))}else if(!0===t.pause&&!0===t.plays){var n=s.current;n&&n.childNodes.forEach((function(t){t.classList.contains("rhap_container")&&t.childNodes.forEach((function(t){"AUDIO"===t.tagName&&t.pause()}))}))}}))}));var p=function(t){if(r<e.tracklist.length-1){o(r+1);var c=e.tracklist[r].id,i=e.tracklist[r+1].id;a(i),n(c),setTimeout((function(){document.getElementsByTagName("audio")[0].play()}),30)}else{o(0);var s=e.tracklist[r].id,u=e.tracklist[0].id;a(u),n(s),setTimeout((function(){document.getElementsByTagName("audio")[0].play()}),30)}},b=function(t){if(r>0){o(r-1);var c=e.tracklist[r].id,i=e.tracklist[r-1].id;a(i),n(c),setTimeout((function(){document.getElementsByTagName("audio")[0].play()}),30)}else{o(e.tracklist.length-1);var s=e.tracklist[r].id,u=e.tracklist[e.tracklist.length-1].id;a(u),n(s),setTimeout((function(){document.getElementsByTagName("audio")[0].play()}),30)}},j=function(t){var e=t.target.volume;i(e)},f=e.tracklist.map((function(t,a){return!0===t.plays?Object(G.jsxs)(z,{id:t.id+"-top",ref:s,children:[Object(G.jsx)(U,{children:Object(G.jsx)(B,{src:t.image.background})}),Object(G.jsxs)(K,{children:[Object(G.jsx)("div",{children:t.title}),Object(G.jsx)("div",{children:t.subtitle})]}),Object(G.jsx)(N.a,{src:t.src,index:a,volume:e.ui[0].volume,showSkipControls:!0,showFilledVolume:!0,onPlay:l,onPause:u,onEnded:d,onClickNext:p,onClickPrevious:b,onVolumeChange:j,style:{flexBasis:"50%"}})]},a):""}));return Object(G.jsx)(q,{children:f})}var M=Object(E.memo)(J);function X(t){var e=t.data,a=t.handleTrack,n=t.stopTrack,c=t.pauseTrack,i=(t.next,t.setNext),r=function(t){"A"!==t.target.tagName&&e.tracklist.forEach((function(r,o){+r.id===+t.currentTarget.id&&!1===r.plays&&!0===r.pause?(!function(t){e.tracklist.forEach((function(e){+e.id===+t.currentTarget.id&&!1===e.plays?a(t.currentTarget.id):+e.id!==+t.currentTarget.id&&!0===e.plays&&n(e.id)}))}(t),c(t.currentTarget.id),i(o)):+r.id===+t.currentTarget.id&&!1===r.pause?c(t.currentTarget.id):+r.id===+t.currentTarget.id&&!0===r.pause&&!0===r.plays&&c(r.id)}))},o=e.tracklist.map((function(t,e){return Object(G.jsxs)(P,{id:t.id,onClickCapture:r,children:[Object(G.jsxs)(U,{children:[Object(G.jsx)(B,{src:t.image.background,alt:t.title}),!0===t.plays?Object(G.jsx)(H,{children:Object(G.jsx)(I,{style:!0===t.plays&&!1===t.pause?{animation:"plug .8s infinite ease-in-out alternate"}:{animation:"none"}})}):""]}),Object(G.jsxs)(K,{children:[Object(G.jsx)(V,{children:t.title}),Object(G.jsx)(S,{children:t.subtitle})]}),Object(G.jsx)("a",{id:"download",download:!0,href:t.src,children:"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c"})]},e)}));return Object(G.jsx)(R,{children:Object(G.jsx)(D,{children:o})})}var F=Object(E.memo)(X);var Q=Object(c.b)((function(t){return{state:t}}),(function(t){return{addTrack:function(e,a,n,c,i,r,o,s){t(A(e,a,n,c,i,r,o,s))},deleteTrack:function(e){t(function(t){return{type:"DELETE_TRACK",payload:{id:t}}}(e))},handleTrack:function(e){t(function(t){return{type:"HANDLE_TRACK",payload:{id:t}}}(e))},stopTrack:function(e){t(function(t){return{type:"STOP_TRACK",payload:{id:t}}}(e))},pauseTrack:function(e){t(function(t){return{type:"PAUSE_TRACK",payload:{id:t}}}(e))},changeVolume:function(e){t(function(t){return{type:"CHANGE_VOLUME",payload:{volume:t}}}(e))}}}))((function(t){var e=Object(E.useState)(0),a=Object(T.a)(e,2),n=a[0],c=a[1],i=function(){return t.state},r=function(e){t.handleTrack(e)},o=function(e){t.stopTrack(e)},s=function(e){t.pauseTrack(e)};return Object(G.jsxs)("div",{children:[Object(G.jsx)("h1",{children:"PlayList"}),Object(G.jsx)(M,{data:i(),handleTrack:r,stopTrack:o,pauseTrack:s,changeVolume:function(e){t.changeVolume(e)},next:n,setNext:c}),Object(G.jsx)(F,{data:i(),handleTrack:r,stopTrack:o,pauseTrack:s,next:n,setNext:c})]})}));function W(){return Object(G.jsx)("div",{className:"App",children:Object(G.jsx)(Q,{})})}var Y=a(54),Z=a.n(Y),$=document.getElementById("root"),tt=Object(n.createRoot)($),et=Object(i.b)(u);Z.a.request({method:"GET",url:"https://shazam.p.rapidapi.com/search",params:{term:"country",locale:"en-US",offset:"0",limit:"5"},headers:{"X-RapidAPI-Key":"e9798ae78fmshe7ce65d0ebfcd44p1e4373jsn2181fed414ed","X-RapidAPI-Host":"shazam.p.rapidapi.com"}}).then((function(t){t.data.tracks.hits.forEach((function(t){et.dispatch(A(t.track.key,t.track.hub.actions[1].uri,t.track.images.background,t.track.images.coverart,t.track.images.coverarthq,t.track.title,t.track.subtitle,t.track.url))}))})).catch((function(t){console.error(t)})),tt.render(Object(G.jsx)(c.a,{store:et,children:Object(G.jsx)(W,{})}))}},[[93,1,2]]]);
//# sourceMappingURL=main.60e0b9b2.chunk.js.map